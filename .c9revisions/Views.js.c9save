{"ts":1342066258947,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"window.HeaderView = Backbone.View.extend({\n    initialize:function(){\n      _.bindAll(this,'render');  \n    },\n        tagName:\"div\",\n        className:\"navbar navbar-fixed-top\",\n        template : _.template($(\"#template-header\").html()),\n    \n    render:function(){\n        console.log(\"Rendering the header\");\n        $(this.el).html(this.template());\n        return this;\n    }\n});\nwindow.MovieListView = Backbone.View.extend({\n    tagName:\"ul\",\n    className:\"nav nav-pills nav-stacked\",\n    initialize:function(){\n        _.bindAll(this,'render');\n        App.Collections.movies.bind(\"add\",this.render,this);\n        App.Collections.movies.bind(\"reset\",this.render,this);\n        App.Collections.movies.bind(\"remove\",this.render,this);\n    },\n    render:function(){\n        var $ul = this.el;\n        $($ul).empty();\n        //this.collection.each(function(model){\n        App.Collections.movies.each(function(model){\n            $($ul).append(new window.MovieItemView({model:model}).render().el);\n        });\n        return this;\n    },\n});\nwindow.MovieItemView = Backbone.View.extend({\n    tagName:\"li\",\n    className:\"\",\n    events:{\n      \"click .movieListItem\":\"changeActive\"\n    },\n    initialize:function(){\n        _.bindAll(this,'render');\n        //App.Collections.movies.on(\"removeActive\",\"removeActive\");\n        this.bind(\"removeActive\",this.removeActive,this);\n        this.template = _.template($(\"#template-movie-item\").html());\n        //console.log(\"template init: \",$(\"#template-movie-item\").html());\n    },\n    render:function(){\n        $(this.el).html(this.template({model:this.model.toJSON()}));\n        return this;\n    },\n    changeActive:function(){\n        console.log(\"Changing the active state\");\n        $(\".movieListItem\").parent().removeClass(\"active\");\n        App.Collections.movies.trigger(\"removeActive\");\n        $(this.el).addClass(\"active\");\n    },\n    removeActive:function(){\n        $(this.el).removeClass(\"active\");\n    }\n});\nwindow.MovieDetailView = Backbone.View.extend({\n    tagName:\"div\",\n    events:{\n      \"click .addEditContent\":\"displayAddEditForm\",\n      \"click .save\":\"saveMovie\",\n      \"click .remove\":\"removeMovie\",\n      \"click .starRating\":\"changeStarRating\",\n      \"click .addActorField\":\"addActorField\",\n      \"click .removeActorField\":\"removeActorField\",\n      \"click .addActressField\":\"addActressField\",\n      \"click .removeActressField\":\"removeActressField\"\n    },\n    initialize:function(){\n        _.bindAll(this,'render');\n    },\n    render:function(){\n        this.template = _.template($(\"#template-movie-details\").html());\n        var isNew = this.model.isNew();\n        $(this.el).html(this.template({model:this.model.toJSON(),isNew:isNew}));\n        return this;\n    },\n    displayAddEditForm:function(){\n        if($(\".addEditContent\").hasClass(\"btn-primary\")){\n            $(\".addEditContent\").removeClass(\"btn-primary\");\n            $(\".addEditContent\").addClass(\"btn-warning\");\n            $(\".editContent\").removeClass(\"hiddenContent\");\n            $(\".displayContent\").addClass(\"hiddenContent\");\n        }\n        else{\n            $(\".addEditContent\").removeClass(\"btn-warning\");\n            $(\".addEditContent\").addClass(\"btn-primary\");\n            $(\".editContent\").addClass(\"hiddenContent\");\n            $(\".displayContent\").removeClass(\"hiddenContent\");\n        }\n    },\n    saveMovie:function(){\n        var actorsArray = [];\n        $(\".actors\").children('input').each(function(){\n            actorsArray.push($(this).val());\n        });\n        var actressArray = [];\n        $(\".actresses\").children('input').each(function(){\n            actressArray.push($(this).val());\n        });\n        this.model.set({\n            title:$(\"#titleInput\").val(),\n            year:$(\"#yearInput\").val(),\n            director:$(\"#directorInput\").val(),\n            actors:actorsArray,\n            actresses:actressArray,\n            genre:$(\"#genreInput\").val()\n        });\n        console.log(\"Save model:\",this.model);\n        App.Collections.movies.add(this.model);\n        this.model.save();\n        App.Routers.mediaRouter.navigate(\"#movies\",{trigger:true});\n        this.render();\n    },\n    removeMovie:function(){\n      var yes = confirm(\"Are you sure you want to remove this movie? This action is irreversable.\");\n      if(yes){\n          this.model.destroy();\n          App.Collections.movies.remove(this.model);\n          App.Routers.mediaRouter.navigate(\"#movies\",{trigger:true});\n      }\n    },\n    changeStarRating:function(event){\n        var $clickedStar = $(event.currentTarget);\n        var value = $clickedStar.attr(\"rating\");\n        this.model.set({stars:value});\n        this.changeStarVisual(value);\n    },\n    changeStarVisual:function(starRating){\n        $(\".starControl\").children('img').each(function(index){\n            if(index+1 <= starRating){\n                $(this).attr('src',\"img/star-gold16.png\");\n            }\n            else{\n                $(this).attr('src',\"img/star-white16.png\");\n            }\n        });\n    },\n    addActorField:function(){\n        var $currentIcon = $(\".actors\").children(\".addActorField\").children('img');\n        $(\".actors\").children(\".removeActorField\").remove();\n        $(\".actors\").children(\".addActorField\").addClass(\"removeActorField\");\n        $(\".actors\").children(\".removeActorField\").removeClass(\"addActorField\");\n        $($currentIcon).attr('src',\"img/minus-white.png\");\n        $(\".actors\").append('<br><input type=\"text\" class=\"input-xlarge actor\">' + \n            '<span class=\"addActorField\"><img src=\"img/plus-white.png\"</span>');\n    },\n    removeActorField:function(){\n        $(\".actors input:last\").remove();\n        $(\".actors br:last\").remove();\n        $(\".actors span\").remove();\n        $(\".actors\").children('input').each(function(){\n            $(\".actors\").children(\".removeActorField\").remove();\n            $(\".addActorField\").addClass(\"removeActorField\");\n            $(\".removeActorField\").removeClass(\"addActorField\");\n            $(\".removeActorField\").children('img').attr('src',\"img/minus-white.png\");\n            $(this).after('<span class=\"addActorField\"><img src=\"img/plus-white.png\"</span>');\n            console.log(this);\n        });\n    },\n    addActressField:function(){\n        var $currentIcon = $(\".actresses\").children(\".addActressField\").children('img');\n        $(\".actresses\").children(\".removeActressField\").remove();\n        $(\".actresses\").children(\".addActressField\").addClass(\"removeActressField\");\n        $(\".actresses\").children(\".removeActressField\").removeClass(\"addActressField\");\n        $($currentIcon).attr('src',\"img/minus-white.png\");\n        $(\".actresses\").append('<br><input type=\"text\" class=\"input-xlarge actresss\">' + \n            '<span class=\"addActressField\"><img src=\"img/plus-white.png\"</span>');\n    },\n    removeActressField:function(){\n        $(\".actresses input:last\").remove();\n        $(\".actresses br:last\").remove();\n        $(\".actresses span\").remove();\n        $(\".actresses\").children('input').each(function(){\n            $(\".actresses\").children(\".removeActressField\").remove();\n            $(\".addActressField\").addClass(\"removeActressField\");\n            $(\".removeActressField\").removeClass(\"addActressField\");\n            $(\".removeActressField\").children('img').attr('src',\"img/minus-white.png\");\n            $(this).after('<span class=\"addActressField\"><img src=\"img/plus-white.png\"</span>');\n            console.log(this);\n        });\n    }\n});"]],"start1":0,"start2":0,"length1":0,"length2":7492}]],"length":7492}
{"contributors":[],"silentsave":false,"ts":1342289059400,"patch":[[{"diffs":[[1,"window.HeaderView = Backbone.View.extend({\n    initialize:function(){\n      _.bindAll(this,'render');  \n    },\n        tagName:\"div\",\n        className:\"navbar navbar-fixed-top\",\n        template : _.template($(\"#template-header\").html()),\n    \n    render:function(){\n        console.log(\"Rendering the header\");\n        $(this.el).html(this.template());\n        return this;\n    }\n});\nwindow.MovieListView = Backbone.View.extend({\n    tagName:\"ul\",\n    className:\"nav nav-pills nav-stacked\",\n    initialize:function(){\n        _.bindAll(this,'render');\n        App.Collections.movies.bind(\"add\",this.render,this);\n        App.Collections.movies.bind(\"reset\",this.render,this);\n        App.Collections.movies.bind(\"remove\",this.render,this);\n    },\n    events:{\n        \"click .sortMovieList\":\"sortMovieList\"\n    },\n    sortMovieList:function(event){\n        var sortType = $(event.currentTarget.attributes.name).val();\n        this.collection.sortMovieList(sortType);\n    },\n    render:function(){\n        var $ul = this.el;\n        $($ul).empty();\n        var $sortOptions = $($ul).append('<div id=\"sortOptions\"></div>');\n        $sortOptions.append('<button class=\"sortMovieList\" name=\"asc\"><img src=\"img/sort-acend.png\" alt=\"a to z\"></img></button>');\n        $sortOptions.append('<button class=\"sortMovieList\" name=\"dec\"><img src=\"img/sort-decend.png\" alt=\"z to a\"></img></button>');\n        App.Collections.movies.each(function(model){\n            $($ul).append(new window.MovieItemView({model:model}).render().el);\n        });\n        return this;\n    },\n});\nwindow.MovieItemView = Backbone.View.extend({\n    tagName:\"li\",\n    className:\"\",\n    events:{\n      \"click .movieListItem\":\"changeActive\"\n    },\n    initialize:function(){\n        _.bindAll(this,'render');\n        //App.Collections.movies.on(\"removeActive\",\"removeActive\");\n        this.bind(\"removeActive\",this.removeActive,this);\n        this.template = _.template($(\"#template-movie-item\").html());\n        //console.log(\"template init: \",$(\"#template-movie-item\").html());\n    },\n    render:function(){\n        $(this.el).html(this.template({model:this.model.toJSON()}));\n        return this;\n    },\n    changeActive:function(){\n        console.log(\"Changing the active state\");\n        $(\".movieListItem\").parent().removeClass(\"active\");\n        App.Collections.movies.trigger(\"removeActive\");\n        $(this.el).addClass(\"active\");\n    },\n    removeActive:function(){\n        $(this.el).removeClass(\"active\");\n    }\n});\nwindow.MovieDetailView = Backbone.View.extend({\n    tagName:\"div\",\n    events:{\n      \"click .addEditContent\":\"displayAddEditForm\",\n      \"click .save\":\"saveMovie\",\n      \"click .remove\":\"removeMovie\",\n      \"click .starRating\":\"changeStarRating\",\n      \"click .addActorField\":\"addActorField\",\n      \"click .removeActorField\":\"removeActorField\",\n      \"click .addActressField\":\"addActressField\",\n      \"click .removeActressField\":\"removeActressField\"\n    },\n    initialize:function(){\n        _.bindAll(this,'render');\n    },\n    render:function(){\n        this.template = _.template($(\"#template-movie-details\").html());\n        var isNew = this.model.isNew();\n        $(this.el).html(this.template({model:this.model.toJSON(),isNew:isNew}));\n        return this;\n    },\n    displayAddEditForm:function(){\n        if($(\".addEditContent\").hasClass(\"btn-primary\")){\n            $(\".addEditContent\").removeClass(\"btn-primary\");\n            $(\".addEditContent\").addClass(\"btn-warning\");\n            $(\".editContent\").removeClass(\"hiddenContent\");\n            $(\".displayContent\").addClass(\"hiddenContent\");\n        }\n        else{\n            $(\".addEditContent\").removeClass(\"btn-warning\");\n            $(\".addEditContent\").addClass(\"btn-primary\");\n            $(\".editContent\").addClass(\"hiddenContent\");\n            $(\".displayContent\").removeClass(\"hiddenContent\");\n        }\n    },\n    saveMovie:function(){\n        var actorsArray = [];\n        $(\".actors\").children('input').each(function(){\n            actorsArray.push($(this).val());\n        });\n        var actressArray = [];\n        $(\".actresses\").children('input').each(function(){\n            actressArray.push($(this).val());\n        });\n        this.model.set({\n            title:$(\"#titleInput\").val(),\n            year:$(\"#yearInput\").val(),\n            director:$(\"#directorInput\").val(),\n            actors:actorsArray,\n            actresses:actressArray,\n            genre:$(\"#genreInput\").val()\n        });\n        console.log(\"Save model:\",this.model);\n        App.Collections.movies.add(this.model);\n        this.model.save();\n        App.Routers.mediaRouter.navigate(\"#movies\",{trigger:true});\n        this.render();\n    },\n    removeMovie:function(){\n      var yes = confirm(\"Are you sure you want to remove this movie? This action is irreversable.\");\n      if(yes){\n          this.model.destroy();\n          App.Collections.movies.remove(this.model);\n          App.Routers.mediaRouter.navigate(\"#movies\",{trigger:true});\n      }\n    },\n    changeStarRating:function(event){\n        var $clickedStar = $(event.currentTarget);\n        var value = $clickedStar.attr(\"rating\");\n        this.model.set({stars:value});\n        this.changeStarVisual(value);\n    },\n    changeStarVisual:function(starRating){\n        $(\".starControl\").children('img').each(function(index){\n            if(index+1 <= starRating){\n                $(this).attr('src',\"img/star-gold16.png\");\n            }\n            else{\n                $(this).attr('src',\"img/star-white16.png\");\n            }\n        });\n    },\n    addActorField:function(){\n        var $currentIcon = $(\".actors\").children(\".addActorField\").children('img');\n        $(\".actors\").children(\".removeActorField\").remove();\n        $(\".actors\").children(\".addActorField\").addClass(\"removeActorField\");\n        $(\".actors\").children(\".removeActorField\").removeClass(\"addActorField\");\n        $($currentIcon).attr('src',\"img/minus-white.png\");\n        $(\".actors\").append('<br><input type=\"text\" class=\"input-xlarge actor\">' + \n            '<span class=\"addActorField\"><img src=\"img/plus-white.png\"</span>');\n    },\n    removeActorField:function(){\n        $(\".actors input:last\").remove();\n        $(\".actors br:last\").remove();\n        $(\".actors span\").remove();\n        $(\".actors\").children('input').each(function(){\n            $(\".actors\").children(\".removeActorField\").remove();\n            $(\".addActorField\").addClass(\"removeActorField\");\n            $(\".removeActorField\").removeClass(\"addActorField\");\n            $(\".removeActorField\").children('img').attr('src',\"img/minus-white.png\");\n            $(this).after('<span class=\"addActorField\"><img src=\"img/plus-white.png\"</span>');\n            console.log(this);\n        });\n    },\n    addActressField:function(){\n        var $currentIcon = $(\".actresses\").children(\".addActressField\").children('img');\n        $(\".actresses\").children(\".removeActressField\").remove();\n        $(\".actresses\").children(\".addActressField\").addClass(\"removeActressField\");\n        $(\".actresses\").children(\".removeActressField\").removeClass(\"addActressField\");\n        $($currentIcon).attr('src',\"img/minus-white.png\");\n        $(\".actresses\").append('<br><input type=\"text\" class=\"input-xlarge actresss\">' + \n            '<span class=\"addActressField\"><img src=\"img/plus-white.png\"</span>');\n    },\n    removeActressField:function(){\n        $(\".actresses input:last\").remove();\n        $(\".actresses br:last\").remove();\n        $(\".actresses span\").remove();\n        $(\".actresses\").children('input').each(function(){\n            $(\".actresses\").children(\".removeActressField\").remove();\n            $(\".addActressField\").addClass(\"removeActressField\");\n            $(\".removeActressField\").removeClass(\"addActressField\");\n            $(\".removeActressField\").children('img').attr('src',\"img/minus-white.png\");\n            $(this).after('<span class=\"addActressField\"><img src=\"img/plus-white.png\"</span>');\n            console.log(this);\n        });\n    }\n});"]],"start1":0,"start2":0,"length1":0,"length2":8010}]],"length":8010,"saved":false}
{"contributors":[],"silentsave":false,"ts":1342289158676,"patch":[[{"diffs":[[0,"nder,this);\n"],[1,"        this.test=\"test var\";\n"],[0,"    },\n    e"]],"start1":730,"start2":730,"length1":24,"length2":54},{"diffs":[[0,"(model){"],[1,"console.log(\"test output: \",this.collection.test);"],[0,"\n       "]],"start1":1463,"start2":1463,"length1":16,"length2":66}]],"length":8090,"saved":false}
{"ts":1342289233008,"patch":[[{"diffs":[[0,"s);\n"],[-1,"        this.test=\"test var\";\n"],[0,"    "]],"start1":738,"start2":738,"length1":38,"length2":8},{"diffs":[[0,"el){"],[-1,"console.log(\"test output: \",this.collection.test);"],[0,"\n   "]],"start1":1437,"start2":1437,"length1":58,"length2":8}]],"length":8010,"saved":false}
{"ts":1342289670249,"patch":[[{"diffs":[[0,"mg></button>');\n"],[1,"        $sortOptions.append('<button class=\"advancedSortOptions\"><img src=\"img/options-advanced.png\" alt=\"advanced\"></img></button>');\n"],[0,"        App.Coll"]],"start1":1373,"start2":1373,"length1":32,"length2":167}]],"length":8145,"saved":false}
{"ts":1342289702047,"patch":[[{"diffs":[[0,"img></button>');"],[1," "],[0,"\n        App.Col"]],"start1":1507,"start2":1507,"length1":32,"length2":33}]],"length":8146,"saved":false}
{"ts":1342289900770,"patch":[[{"diffs":[[0,"/options"],[-1,"-"],[1,"_"],[0,"advanced"]],"start1":1467,"start2":1467,"length1":17,"length2":17}]],"length":8146,"saved":false}
{"ts":1342289939106,"patch":[[{"diffs":[[0,"></img></button>"],[1," "],[0,"');\n        $sor"]],"start1":1236,"start2":1236,"length1":32,"length2":33},{"diffs":[[0,"/button>"],[1," "],[0,"');\n    "]],"start1":1378,"start2":1378,"length1":16,"length2":17},{"diffs":[[0,"/button>"],[1," "],[0,"'); \n   "]],"start1":1514,"start2":1514,"length1":16,"length2":17}]],"length":8149,"saved":false}
{"contributors":[],"silentsave":false,"ts":1348961278201,"patch":[[{"diffs":[[0,"List"],[-1,"View = Backbone.View.extend({\n    tagName:\"ul\",\n    className:\"nav nav-pills nav-stacked\",\n    initialize:function(){\n        _.bindAll(this,'render');\n        App.Collections.movies.bind(\"add\",this.render,this);\n        App.Collections.movies.bind(\"reset\",this.render,this);\n        App.Collections.movies.bind(\"remove\",this.render,this);\n    },\n    events:{\n        \"click .sortMovieList\":\"sortMovieList\"\n    },\n    sortMovieList:function(event){\n        var sortType = $(event.currentTarget.attributes.name).val();\n        this.collection.sortMovieList(sortType);\n    },\n    render:function(){\n        var $ul = this.el;\n        $($ul).empty();\n        var $sortOptions = $($ul).append('<div id=\"sortOptions\"></div>');\n        $sortOptions.append('<button class=\"sortMovieList\" name=\"asc\"><img src=\"img/sort-acend.png\" alt=\"a to z\"></img></button> ');\n        $sortOptions.append('<button class=\"sortMovieList\" name=\"dec\"><img src=\"img/sort-decend.png\" alt=\"z to a\"></img></button> ');\n        $sortOptions.append('<button class=\"advancedSortOptions\"><img src=\"img/options_advanced.png\" alt=\"advanced\"></img></button> '); \n        App.Collections.movies.each(function(model){\n            $($ul).append(new window.MovieItemView({model:model}).render().el);\n        });\n        return this;\n    },\n});\nwindow.MovieItemView = Backbone.View.extend({\n    tagName:\"li\",\n    className:\"\",\n    events:{\n      \"click .movieListItem\":\"changeActive\"\n    },\n    initialize:function(){\n        _.bindAll(this,'render');\n        //App.Collections.movies.on(\"removeActive\",\"removeActive\");\n        this.bind(\"removeActive\",this.removeActive,this);\n        this.template = _.template($(\"#template-movie-item\").html());\n        //console.log(\"template init: \",$(\"#template-movie-item\").html());\n    },\n    render:function(){\n        $(this.el).html(this.template({model:this.model.toJSON()}));\n        return this;\n    },\n    changeActive:function(){\n        console.log(\"Changing the active state\");\n        $(\".movieListItem\").parent().removeClass(\"active\");\n        App.Collections.movies.trigger(\"removeActive\");\n        $(this.el).addClass(\"active\");\n    },\n    removeActive:function(){\n        $(this.el).removeClass(\"active\");\n    }\n});\nwindow.MovieDetailView = Backbone.View.extend({\n    tagName:\"div\",\n    events:{\n      \"click .addEditContent\":\"displayAddEditForm\",\n      \"click .save\":\"saveMovie\",\n      \"click .remove\":\"removeMovie\",\n      \"click .starRating\":\"changeStarRating\",\n      \"click .addActorField\":\"addActorField\",\n      \"click .removeActorField\":\"removeActorField\",\n      \"click .addActressField\":\"addActressField\",\n      \"click .removeActressField\":\"removeActressField\"\n    },\n    initialize:function(){\n        _.bindAll(this,'render');\n    },\n    render:function(){\n        this.template = _.template($(\"#template-movie-details\").html());\n        var isNew = this.model.isNew();\n        $(this.el).html(this.template({model:this.model.toJSON(),isNew:isNew}));\n        return this;\n    },\n    displayAddEditForm:function(){\n        if($(\".addEditContent\").hasClass(\"btn-primary\")){\n            $(\".addEditContent\").removeClass(\"btn-primary\");\n            $(\".addEditContent\").addClass(\"btn-warning\");\n            $(\".editContent\").removeClass(\"hiddenContent\");\n            $(\".displayContent\").addClass(\"hiddenContent\");\n        }\n        else{\n            $(\".addEditContent\").removeClass(\"btn-warning\");\n            $(\".addEditContent\").addClass(\"btn-primary\");\n            $(\".editContent\").addClass(\"hiddenContent\");\n            $(\".displayContent\").removeClass(\"hiddenContent\");\n        }\n    },\n    saveMovie:function(){\n        var actorsArray = [];\n        $(\".actors\").children('input').each(function(){\n            actorsArray.push($(this).val());\n        });\n        var actressArray = [];\n        $(\".actresses\").children('input').each(function(){\n            actressArray.push($(this).val());\n        });\n        this.model.set({\n            title:$(\"#titleInput\").val(),\n            year:$(\"#yearInput\").val(),\n            director:$(\"#directorInput\").val(),\n            actors:actorsArray,\n            actresses:actressArray,\n            genre:$(\"#genreInput\").val()\n        });\n        console.log(\"Save model:\",this.model);\n        App.Collections.movies.add(this.model);\n        this.model.save();\n        App.Routers.mediaRouter.navigate(\"#movies\",{trigger:true});\n        this.render();\n    },\n    removeMovie:function(){\n      var yes = confirm(\"Are you sure you want to remove this movie? This action is irreversable.\");\n      if(yes){\n          this.model.destroy();\n          App.Collections.movies.remove(this.model);\n          App.Routers.mediaRouter.navigate(\"#movies\",{trigger:true});\n      }\n    },\n    changeStarRating:function(event){\n        var $clickedStar = $(event.currentTarget);\n        var value = $clickedStar.attr(\"rating\");\n        this.model.set({stars:value});\n        this.changeStarVisual(value);\n    },\n    changeStarVisual:function(starRating){\n        $(\".starControl\").children('img').each(function(index){\n            if(index+1 <= starRating){\n                $(this).attr('src',\"img/star-gold16.png\");\n            }\n            else{\n                $(this).attr('src',\"img/star-white16.png\");\n            }\n        });\n    },\n    addActorField:function(){\n        var $currentIcon = $(\".actors\").children(\".addActorField\").children('img');\n        $(\".actors\").children(\".removeActorField\").remove();\n        $(\".actors\").children(\".addActorField\").addClass(\"removeActorField\");\n        $(\".actors\").children(\".removeActorField\").removeClass(\"addActorField\");\n        $($currentIcon).attr('src',\"img/minus-white.png\");\n        $(\".actors\").append('<br><input type=\"text\" class=\"input-xlarge actor\">' + \n            '<span class=\"addActorField\"><img src=\"img/plus-white.png\"</span>');\n    },\n    removeActorField:function(){\n        $(\".actors input:last\").remove();\n        $(\".actors br:last\").remove();\n        $(\".actors span\").remove();\n        $(\".actors\").children('input').each(function(){\n            $(\".actors\").children(\".removeActorField\").remove();\n            $(\".addActorField\").addClass(\"removeActorField\");\n            $(\".removeActorField\").removeClass(\"addActorField\");\n            $(\".removeActorField\").children('img').attr('src',\"img/minus-white.png\");\n            $(this).after('<span class=\"addActorField\"><img src=\"img/plus-white.png\"</span>');\n            console.log(this);\n        });\n    },\n    addActressField:function(){\n        var $currentIcon = $(\".actresses\").children(\".addActressField\").children('img');\n        $(\".actresses\").children(\".removeActressField\").remove();\n        $(\".actresses\").children(\".addActressField\").addClass(\"removeActressField\");\n        $(\".actresses\").children(\".removeActressField\").removeClass(\"addActressField\");\n        $($currentIcon).attr('src',\"img/minus-white.png\");\n        $(\".actresses\").append('<br><input type=\"text\" class=\"input-xlarge actresss\">' + \n            '<span class=\"addActressField\"><img src=\"img/plus-white.png\"</span>');\n    },\n    removeActressField:function(){\n        $(\".actresses input:last\").remove();\n        $(\".actresses br:last\").remove();\n        $(\".actresses span\").remove();\n        $(\".actresses\").children('input').each(function(){\n            $(\".actresses\").children(\".removeActressField\").remove();\n            $(\".addActressField\").addClass(\"removeActressField\");\n            $(\".removeActressField\").removeClass(\"addActressField\");\n            $(\".removeActressField\").children('img').attr('src',\"img/minus-white.png\");\n            $(this).after('<span class=\"addActressField\"><img src=\"img/plus-white.png\"</span>');\n            console.log(this);\n        });\n    }\n});window.HeaderView = Backbone.View.extend({\n    initialize:function(){\n      _.bindAll(this,'render');  \n    },\n        tagName:\"div\",\n        className:\"navbar navbar-fixed-top\",\n        template : _.template($(\"#template-header\").html()),\n    \n    render:function(){\n        console.log(\"Rendering the header\");\n        $(this.el).html(this.template());\n        return this;\n    }"],[1,"MasterView = Backbone.View.extend({\n    tagName:\"div\",\n    initialize:function(){\n        _.bindAll(this,'render');\n    },\n    events:{\n    },\n    render:function(){\n        this.SubViews = {};\n        this.SubViews.searchView = new window.MovieListSearchView({collection:this.collection});\n        this.SubViews.listView = new window.MovieListView({collection:this.collection});\n        $(this.el).append(this.SubViews.searchView.render().el);\n        $(this.el).append(this.SubViews.listView.render().el);\n        return this;\n    }\n});\nwindow.MovieListSearchView = Backbone.View.extend({\n    tagName:\"div\",\n    initialize:function(){console.log(this.queryKeyWords);\n        _.bindAll(this,'render');\n        this.template = _.template($(\"#template-movie-list-search\").html());\n    },\n    events:{\n        \"click .sortMovieList\":\"sortMovieList\",\n        \"click .showAdvancedSortOptions\":\"showAdvancedSortOptions\",\n        \"click .advancedSort\":\"advancedSort\",\n        \"click .removeFilter\":\"removeFilter\",\n        \"keyup .search-query\":\"searchBarFilter\"\n    },\n    searchBarFilter:function(event){\n        if(this.isCharHandled(event)){\n            var query = event.currentTarget.value;\n            switch(query){\n                default:\n                    console.log(\"this is the one\");\n                break;\n            }\n        }\n    },\n    isCharHandled:function(evt){console.log(evt.which);\n        if (typeof evt.which == \"undefined\") {\n            return true;\n        } \n        else if (typeof evt.which == \"number\" && evt.which > 0) {\n            return !evt.ctrlKey && !evt.metaKey && !evt.altKey \n                && evt.which != 16;\n        }\n        return false;   \n    },\n    render:function(){\n        $(this.el).html(this.template());\n        return this;\n    },\n    showAdvancedSortOptions:function(){//TODO: turn this into a view\n        var header = \"<h3>Advanced movie sorting options</h3>\";\n        var body = _.template($(\"#movie-list-filter-body\").html(),{\"model\":\"value to set\"});\n        var footer = '<a href=\"#\" class=\"btn\" data-dismiss=\"modal\">Close</a>'+\n                     '<button type=\"button\" class=\"btn btn-primary advancedSort\">Sort</button>';\n        utils.injectModal(this.$el,header,body,footer);\n        $(\"#primaryModal\").modal(\"toggle\");\n    },\n    advancedSort:function(){\n        var testVal = $(\"#testing\").val();\n        console.log(\"the extracted value is: \",testVal);\n        this.collection.models = this.collection.filter(function(movie){\n            return movie.get(\"stars\") <= \"3\";\n        });\n        $(\"#primaryModal\").modal(\"toggle\");\n        this.render();\n    },\n    sortMovieList:function(event){\n        var sortType = $(event.currentTarget.attributes.name).val();\n        this.collection.sortMovieList(sortType);\n    },\n    removeFilter:function(){\n        App.Collections.movies.fetch();\n    },"],[0,"\n});"]],"start1":398,"start2":398,"length1":8136,"length2":2874},{"diffs":[[0,"    "],[-1,"render:function(){\n        var $ul = this.el;\n        $($ul).empty();\n        //this.collection.each(function(model){\n        App.Collections.movies"],[1,"events:{\n        \"click .removeFilter\":function(){console.log(\"Remove filter caught\")}\n    },\n    render:function(){\n        var $ul = this.el;\n        $($ul).empty();\n        this.collection"],[0,".eac"]],"start1":3636,"start2":3636,"length1":156,"length2":199}]],"length":10422,"saved":false}
